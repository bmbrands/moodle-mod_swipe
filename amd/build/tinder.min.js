define ("mod_swipe/tinder",["jquery"],function(a){var c={onDislike:null,onLike:null,animationRevertSpeed:200,animationSpeed:400,threshold:1,likeSelector:".like",dislikeSelector:".dislike",actionsSelector:"[data-region=\"cardactions\"]",commentsRegion:".card-comments .card-comment-item"},d=null,e=null,f=null,g=0,h=0,i=!1,j=0,k=0,l=0,m=0,n=0,o=0,p=0;function b(b,d){this.element=b;this.settings=a.extend({},c,d);this._defaults=c;this._name="jTinder";this.init(b)}b.prototype={init:function init(b){d=a(">ul",b);e=a(">ul>li",b);n=d.width();o=e.length;p=e.length-1;var c=a(e[p]).attr("data-card-id");f=this;a(f.settings.actionsSelector).attr("data-current-card",c);a(b).bind("touchstart mousedown",this.handler);a(b).bind("touchmove mousemove",this.handler);a(b).bind("touchend mouseup",this.handler)},showPane:function showPane(a){e.eq(p).hide();p=a},next:function next(){a(f.settings.commentsRegion).each(function(b,c){a(c).addClass("hidden")});var b=a(e[p-1]).attr("data-card-id");a(f.settings.actionsSelector).attr("data-current-card",b);return this.showPane(p-1)},dislike:function dislike(){e.eq(p).animate({transform:"translate(-"+n+"px,"+-1.5*n+"px) rotate(-60deg)"},f.settings.animationSpeed,function(){if(f.settings.onDislike){f.settings.onDislike(e.eq(p))}f.next()})},like:function like(){e.eq(p).animate({transform:"translate("+n+"px,"+-1.5*n+"px) rotate(60deg)"},f.settings.animationSpeed,function(){if(f.settings.onLike){f.settings.onLike(e.eq(p))}f.next()})},handler:function handler(a){a.preventDefault();switch(a.type){case"touchstart":if(!1===i){i=!0;g=a.originalEvent.touches[0].pageX;h=a.originalEvent.touches[0].pageY}case"mousedown":if(!1===i){i=!0;g=a.pageX;h=a.pageY}case"mousemove":case"touchmove":if(!0===i){var b="undefined"==typeof a.pageX?a.originalEvent.touches[0].pageX:a.pageX,c="undefined"==typeof a.pageY?a.originalEvent.touches[0].pageY:a.pageY,d=parseInt(b)-parseInt(g),q=parseInt(c)-parseInt(h),r=100/n*d/o;j=d+l;k=q+m;e.eq(p).css("transform","translate("+j+"px,"+k+"px) rotate("+r/2+"deg)");var s=Math.abs(d)/f.settings.threshold/100+.2;if(1<s){s=1}if(0<=j){e.eq(p).find(f.settings.likeSelector).css("opacity",s);e.eq(p).find(f.settings.dislikeSelector).css("opacity",0)}else if(0>j){e.eq(p).find(f.settings.dislikeSelector).css("opacity",s);e.eq(p).find(f.settings.likeSelector).css("opacity",0)}}break;case"mouseup":case"touchend":i=!1;var b="undefined"==typeof a.pageX?a.originalEvent.changedTouches[0].pageX:a.pageX,c="undefined"==typeof a.pageY?a.originalEvent.changedTouches[0].pageY:a.pageY,d=parseInt(b)-parseInt(g),q=parseInt(c)-parseInt(h);j=d+l;k=q+m;var s=Math.abs(Math.abs(d)/f.settings.threshold/100+.2);if(1<=s){if(0<j){e.eq(p).animate({transform:"translate("+n+"px,"+(k+n)+"px) rotate(60deg)"},f.settings.animationSpeed,function(){if(f.settings.onLike){f.settings.onLike(e.eq(p))}f.next()})}else{e.eq(p).animate({transform:"translate(-"+n+"px,"+(k+n)+"px) rotate(-60deg)"},f.settings.animationSpeed,function(){if(f.settings.onDislike){f.settings.onDislike(e.eq(p))}f.next()})}}else{l=0;m=0;e.eq(p).animate({transform:"translate(0px,0px) rotate(0deg)"},f.settings.animationRevertSpeed);e.eq(p).find(f.settings.likeSelector).animate({opacity:0},f.settings.animationRevertSpeed);e.eq(p).find(f.settings.dislikeSelector).animate({opacity:0},f.settings.animationRevertSpeed)}break;}}};a.fn.jTinder=function(c){this.each(function(){if(!a.data(this,"plugin_jTinder")){a.data(this,"plugin_jTinder",new b(this,c))}else if(a.isFunction(b.prototype[c])){a.data(this,"plugin_jTinder")[c]()}});return this}});
//# sourceMappingURL=tinder.min.js.map
